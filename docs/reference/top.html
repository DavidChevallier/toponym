<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Plots locations with specified toponyms on a map — top • toponym</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Plots locations with specified toponyms on a map — top"><meta property="og:description" content="The function calls the simple.map() function to generate a map plotting all locations, filtered by get.coordinates(). The plot also displays additional information if used by candidates.maps(). The data used is downloaded by get.data() and is accessible on the GeoNames download server."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">toponym</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"></ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Plots locations with specified toponyms on a map</h1>
    
    <div class="hidden name"><code>top.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>The function calls the <code><a href="simple.map.html">simple.map()</a></code> function to generate a map plotting all locations, filtered by <code><a href="get.coordinates.html">get.coordinates()</a></code>. The plot also displays additional information if used by <code><a href="candidates.maps.html">candidates.maps()</a></code>. The data used is downloaded by <code><a href="get.data.html">get.data()</a></code> and is accessible on the <a href="https://download.geonames.org/export/dump/" class="external-link">GeoNames download server</a>.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">top</span><span class="op">(</span></span>
<span>  <span class="va">strings</span>,</span>
<span>  countries <span class="op">=</span> <span class="st">"DE"</span>,</span>
<span>  color <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/grDevices/palettes.html" class="external-link">rainbow</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">countries</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  df <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  csv <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  plot <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  ratio_string <span class="op">=</span> <span class="st">""</span>,</span>
<span>  fq <span class="op">=</span> <span class="st">""</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>strings</dt>
<dd><p>Character strings in form of regular expression that filter the data frames. The first string is shown on the plot.</p></dd>


<dt>countries</dt>
<dd><p>Character string with country code abbreviations (check <a href="https://www.geonames.org/countries/" class="external-link">https://www.geonames.org/countries/</a> for a list of available countries) specifying, the toponyms of which countries are checked.</p></dd>


<dt>color</dt>
<dd><p>character string indicating, which color is assigned to each country code in order.</p></dd>


<dt>df</dt>
<dd><p>logical. If <code>TRUE</code> then the filtered data frame will be saved in the global environment.</p></dd>


<dt>csv</dt>
<dd><p>logical. If <code>TRUE</code> then the filtered data frame will be saved as .csv in the current working directory.</p></dd>


<dt>plot</dt>
<dd><p>logical. If <code>TRUE</code> then the plot will not be printed but saved as .png in the current working directory.</p></dd>


<dt>ratio_string</dt>
<dd><p>character string. Ratio of occurrences in each polygon returned by <code><a href="top.candidates.html">top.candidates()</a></code>. This should not be specified manually.</p></dd>


<dt>fq</dt>
<dd><p>character string. Number of occurrences in the designated polygon and in total returned by <code><a href="top.candidates.html">top.candidates()</a></code>. This should not be specified manually.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>A plot in the current R session or as .png in the working directory. If directly generated by this function <code>top()</code>, it displays the first string and the total occurrences. If generated by <code><a href="candidates.maps.html">candidates.maps()</a></code>, it displays the string, the ratio as a percentage and the number of occurrences in the designated polygon and in total.</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="fu"><a href="get.data.html">get.data</a></span><span class="op">(</span><span class="st">"DE"</span>, save <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># saves data for DE in package directory</span></span></span>
<span class="r-in"><span><span class="fu">top</span><span class="op">(</span><span class="st">"itz$"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co">## generates and prints a map with all populated places in Germany (default country) ending with "itz" and saves the locations in a data frame in the global environment.</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">top</span><span class="op">(</span><span class="st">"^By"</span>, <span class="st">"DK"</span>, color <span class="op">=</span> <span class="st">"green"</span>, df <span class="op">=</span> <span class="cn">FALSE</span>, csv <span class="op">=</span> <span class="cn">TRUE</span>, plot <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co">## first downloads data for DK and extracts it to the temporary directory</span></span></span>
<span class="r-in"><span><span class="co">## generates plot with all populated places colored in green in Denmark starting with "By" (case sensitive) and saves it as .png together with the location data as .csv in the working directory.</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="get.data.html">get.data</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"DE"</span>, <span class="st">"PL"</span><span class="op">)</span>, save <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># saves for DE and PL in package directory if it's not already there</span></span></span>
<span class="r-in"><span><span class="fu">top</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"itz$"</span>, <span class="st">"ice$"</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"DE"</span>, <span class="st">"PL"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># generates plot with all populated places in Germany colored in red and Poland colored in cyan ending with either "itz" or "ice" and saves the locations in a data frame in the global environment.</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by First Last.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer></div>

  


  

  </body></html>

